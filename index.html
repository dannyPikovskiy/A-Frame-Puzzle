<!DOCTYPE html>
<html lang="en">

<head>
    <title>Puzzle</title>
    <script src="js/script.js"></script>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <!-- Motion Script -->
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@436d40c/dist/aframe-extras.min.js"></script>
    <!--  environment script -->
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.2/dist/aframe-environment-component.min.js"></script>
    <!-- Cursor Script -->
    <script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
</head>


<body>
    <a-scene>



        <!-- cammara-->
        <a-entity id="rig" movement-controls="fly: true; speed: 0.3">
            <a-entity camera position="0 1.6 0" look-controls>
                <a-entity cursor="fuse: true; fuseTimeout: 1000" position="0 0 -1"
                    geometry="primitive: sphere; radius: 0.005" material="color: #000000; shader: flat; opacity: 0.5"
                    animation__enter="property: scale;
                                        to: 3 3 3;
                                        dur: 1000;
                                        easing: linear;
                                        startEvents: mouseenter"
                    event-set__reset="_event: animationcomplete__enter; scale: 1 1 1" animation__leave="property: scale;
                                        to: 1 1 1;
                                        dur: 1000;
                                        easing: linear;
                                        startEvents: mouseleave">
                </a-entity>
            </a-entity>
        </a-entity>

        <!-- environment link (comment out when unwanted) -->
        <a-entity environment="preset: dream; 
            groundColor: #445; 
            grid: cross;">
        </a-entity>

        <!-- Asset Mannegment System -->
        <a-assets>
            <!-- Brick texture source: https://unsplash.com/s/photos/brick-texture -->
            <img id="Brick" src="assets/BrickTexture.jpeg">
            <!-- Door Texture Source: https://www.archiexpo.com/prod/nusco/product-50739-2001606.html -->
            <img id="DoorTexture" src="assets/DoorTexture.webp">
            <!-- Skybox source: https://gamedev.stackexchange.com/questions/146882/what-is-causing-my-skybox-texturing-issue -->
            <img id="SkyBox" src="assets/SkyBoxTexture.jpeg">
            <!-- Bag Texture source: https://depositphotos.com/86369796/stock-photo-texture-of-the-bag.html -->
            <img id="BagTexture" src="assets/BagTexture.jpeg">
            <!-- Hot Air Ballon Credit: This work is based on "Steampunk Hot Air Balloon" (https://sketchfab.com/3d-models/steampunk-hot-air-balloon-682141ef5e4f40e5b0608f835de49c63) by Janis Zeps (https://sketchfab.com/zeps9001) licensed under CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/) -->
            <a-asset-item id="Balloon" src="assets/steampunk_hot_air_balloon/scene.gltf"></a-asset-item>
            <!-- Treasure Chest Credit: This work is based on "Stylized chest" (https://sketchfab.com/3d-models/stylized-chest-d78e206f32f74fac92089680f3978ed4) by Zlata Budilova (https://sketchfab.com/budilova.zlata) licensed under CC-BY-4.0 (http://creativecommons.org/licenses/by/4.0/) -->
            <a-asset-item id="Chest" src="assets/stylized_chest/scene.gltf"></a-asset-item>
            
        </a-assets>

        <!-- Imported Models -->
        <a-entity gltf-model="#Balloon"
            position="8 14 -9" 
            scale="1 1 1"
            animation-mixer>
        </a-entity>

        <!-- Light -->
        <a-entity light="type: point;
                intensity: 3;
                distance: 5;
                castShadow: true"
                position="8 14 -9">
        </a-entity>

        <!-- Begining of House -->
        <a-entity>
            <!-- Ground (comment out when using an environment)-->
            <!-- <a-plane 
                position="0 0 -4" 
                rotation="-90 0 0" 
                width="20" 
                height="20"
                color="#7BC8A4" 
                shadow>
            </a-plane> -->
            <!-- Door -->
            <a-box id="Door" src="#Brick" position="0 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" color="grey" shadow>
            </a-box>
            <!-- South Wall -->
            <a-box src="#Brick" position="-2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
            </a-box>
            <a-box src="#Brick" position="2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
            </a-box>
            <a-box src="#Brick" repeat="1 3" position="0 3.5 -3" width="1" height="6" depth=".2" rotation="0 0 90"
                shadow>
            </a-box>
            <!-- East Wall -->
            <a-box src="#Brick" repeat="1 2" position="3 2 -6" width=".2" height="4" depth="6" rotation="0 0 0" shadow>
            </a-box>
            <!-- West Wall -->
            <a-entity position="0 0 -6" rotation="0 90 0">
                <a-box src="#Brick" position="-2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
                </a-box>
                <a-box src="#Brick" position="2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
                </a-box>
                <a-box src="#Brick" repeat="1 3" position="0 3.5 -3" width="1" height="6" depth=".2" rotation="0 0 90"
                    shadow>
                </a-box>
                <a-box src="#Brick" repeat="1 3" position="0 .5 -3" width="1" height="2" depth=".2" rotation="0 0 90"
                    shadow>
                </a-box>
            </a-entity>
            <!-- North Wall -->
            <a-entity position="0 0 -6">
                <a-box src="#Brick" position="-2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
                </a-box>
                <a-box src="#Brick" position="2 1.5 -3" width="2" height="3" depth=".2" rotation="0 0 0" shadow>
                </a-box>
                <a-box src="#Brick" repeat="1 3" position="0 3.5 -3" width="1" height="6" depth=".2" rotation="0 0 90"
                    shadow>
                </a-box>
                <a-box src="#Brick" repeat="1 3" position="0 .5 -3" width="1" height="2" depth=".2" rotation="0 0 90"
                    shadow>
                </a-box>
            </a-entity>
            <!-- Roof -->
            <a-box src="#Brick" repeat="1 2" position="-2 4.7 -6" width=".2" height="5" depth="6.4" rotation="0 0 -55.7"
                shadow>
            </a-box>
            <a-box src="#Brick" repeat="1 2" position="2 4.7 -6" width=".2" height="5" depth="6.4" rotation="0 0 55.7"
                shadow>
            </a-box>
            <!-- Roof Triangles -->
            <a-triangle src="#Brick" repeat="1 1" height="1" width="1" dept="1" scale="6.053 2.101 8.429"
                position="0 5 -3" side="double">
            </a-triangle>
            <a-triangle src="#Brick" repeat="1 1" height="1" width="1" dept="1" scale="6.053 2.101 8.429"
                position="0 5 -9" side="double">
            </a-triangle>
            <!-- treasure -->
            <a-entity gltf-model="#Chest"
            position="-.8 0 -7"
            rotation="0 15 0" 
            scale=".5 .5 .5"
            animation-mixer>
        </a-entity>


        </a-entity>
        <!-- End of House Entity -->
        <!-- animation__click="property: scale; startEvents: click; easing: linear; dur: 1000; to: .4 -.3 .4;" -->
        <!-- Snowman -->
        <a-entity id="Snowman" scale=".4 .4 .4" position="-2.7 0 0" rotation="0 0 0" onclick="Melt()">
            <!-- This is scaled to be smaller because it was bigger when I origionaly made it -->

            <!-- Body -->
            <a-sphere position="1 1.25 -5" radius="1.5" color="#white" shadow>
            </a-sphere>
            <a-sphere position="1 3 -5" radius="1.25" color="#white" shadow>
            </a-sphere>
            <a-sphere position="1 4.5 -5" radius="1" color="#white" shadow>
            </a-sphere>

            <!-- Eyes -->
            <a-sphere position=".5 4.5 -4.25" radius=".25" color="black" shadow>
            </a-sphere>
            <a-sphere position="1.25 4.5 -4.15" radius=".25" color="black" shadow>
            </a-sphere>

            <!-- Hat
            <a-entity id="Hat">
                <a-cylinder position="1 5 -5" radius="1.5" height=".2" color="black">
                </a-cylinder>
                <a-cylinder position="1 5.25 -5" radius=".9" height=".7" color="black">
                </a-cylinder>
            </a-entity> -->

            <!-- Nose -->
            <a-cone position=".83 4.1 -4" rotation="120 -3 10" radius-bottom=".1" height="1" color="orange" shadow>
            </a-cone>

            <!-- Buttons -->
            <a-sphere position=".8 3.5 -3.87" radius=".1" color="black" shadow>
            </a-sphere>
            <a-sphere position=".8 3 -3.8" radius=".1" color="black" shadow>
            </a-sphere>
            <a-sphere position=".82 2.5 -3.89" radius=".1" color="black" shadow>
            </a-sphere>

            <!-- Arms -->
            <a-cylinder position="1 3.25 -5" rotation="70 80 0" radius=".1" height="5" src="#Brick" shadow>
            </a-cylinder>
        </a-entity>

        <!-- Bag -->
        <a-sphere id="Bag" position="9.5 15.5 -9" radius=".25" scale="1 1.6 1" src="#BagTexture" onclick="moveBox()">
            
        </a-sphere>

        <!-- Button -->
        <a-entity id="Button" position="9.5 -3 -9" onclick="ButtonClick()">
            <a-box position="0 0 0" height=".3" width=".5" depth=".5" color="black">
            </a-box>
            <a-box id="ButtonRed" position="0 .3 0" height=".3" width=".3" depth=".3" color="red">
            </a-box>
        </a-entity>


        <!-- Clue 1 -->
        <a-entity id="Clue1" text="value: Interogate the snowman" position="0 3 -2" rotation="0 0 0" scale="3 4 9" color="white">
        </a-entity>

        <!-- Clue 2 -->
        <a-entity text="value: Look to the sky and seek the balloon" position="-2 .5 -2" rotation="-45 0 0" scale=".7 1.8 6.35" color="white">
            <a-plane position="-.138 0 0" rotation="0 180 0" color="black" side="double" scale=".783 .173 1"></a-plane>
        </a-entity>

        <!-- Clue 3 -->
        <a-entity text="value: The bag seems to have a button in it. Go grab it." position="8 15.5 -10" rotation="0 0 0" scale=".7 1.8 6.35" color="white">
            <a-plane position="-.03 0 0" rotation="0 180 0" color="black" side="double" scale="1 .173 1"></a-plane>
        </a-entity>

        <!-- Clue 4 -->
        <a-entity id="Clue4" text="value: A door has opened" position="10 -1 -8" rotation="-45 -90 0" scale="3 4 9" color="white" side="double">
        </a-entity>


        <!-- Sky (For the sky I used a texture) comment out when using an environment-->
        <!-- <a-sky
        src="#SkyBox"
        >
     </a-sky> -->

    </a-scene>




</body>

</html>